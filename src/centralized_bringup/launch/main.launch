<launch>
    <!-- This launch file is intended to bring up all components of simulation at the same time -->
    <!-- Launcher parameters -->
    <arg name='host' default='localhost'/> <!-- description: server machine name 
        | default: server running in same machine as ROS client -->
    <arg name='port' default='2000'/> <!-- description: port of server service
        | default: default port of the carla server -->
    <arg name="town" default="Town01"/> <!-- description: selector of world to load in server 
        | default: basic town -->
    <arg name='timeout' default='200'/> <!-- description: Timeout to reach server
        | default: 10s to avoid false disconnection -->
    <arg name='vehicle_model' default=''/> <!--description: vehicle selector
        | default: Seat Leon model 
        | options (from vehicle catalog): vehicle.audi.a2, vehicle.audi.etron, vehicle.audi.tt,
        vehicle.bmw.grandtourer, vehicle.chevrolet.impala, vehicle.citroen.c3,
        vehicle.dodge.charger_2020, vehicle.dodge.charger_police,
        vehicle.ford.crown, vehicle.ford.mustang, vehicle.jeep.wrangler_rubicon,
        vehicle.lincoln.mkz_2017, vehicle.lincoln.mkz_2020, vehicle.mercedes.coupe,
        vehicle.mercedes.coupe_2020, vehicle.micro.microlino, vehicle.mini.cooper_s,
        vehicle.mini.cooper_s_2021, vehicle.nissan.micra, vehicle.nissan.patrol,
        vehicle.nissan.patrol_2021, vehicle.seat.leon, vehicle.tesla.model3,
        vehicle.toyota.prius, vehicle.carlamotors.carlacola, vehicle.carlamotors.european_hgv,
        vehicle.tesla.cybertruck, vehicle.mercedes.sprinter, vehicle.volkswagen.t2, vehicle.volkswagen.t2_2021,
        vehicle.mitsubishi.fusorosa, vehicle.harley-davidson.low_rider, vehicle.kawasaki.ninja,
        vehicle.vespa.zx125, vehicle.yamaha.yzf, vehicle.bh.crossbike, vehicle.diamondback.century,
        vehicle.gazelle.omafiets
        | recommmended: vehicle.lincoln.mkz_2020 (front lights, beam lights...)-->

    <!-- CARLA-ROS Bridge -->
    <include file="$(find carla_ros_bridge)/launch/carla_ros_bridge.launch">
        <arg name='host' value='$(arg host)'/>
        <arg name='port' value='$(arg port)'/>
        <arg name='town' value='$(arg town)'/>
        <arg name='timeout' value='$(arg timeout)'/>
    </include>

    <!-- Object Spawner -->
    <include file="$(find carla_spawn_objects)/launch/carla_example_ego_vehicle.launch">
        <arg name="vehicle_model" value="$(arg vehicle_model)"/>
    </include>

    <!-- Ackermann to Carla-Control msgs translator -->
    <include file="$(find carla_twist_to_control)/launch/carla_twist_to_control.launch"/>

    <!-- Rviz Visualizer Load -->
    <node type="rviz" name="rviz" pkg="rviz" args="-d $(find rviz_carla_plugin)/config/default.rviz" />

</launch>
